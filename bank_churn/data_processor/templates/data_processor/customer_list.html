{% extends 'base.html' %}

{% block title %}–ö–ª–∏–µ–Ω—Ç—ã - –ê–Ω–∞–ª–∏–∑ –æ—Ç—Ç–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–∞–Ω–∫–∞{% endblock %}

{% block extra_head %}
<link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
<style>
    body {
        background: linear-gradient(135deg, #fff0f5, #ffe4ec);
        font-family: 'Poppins', sans-serif;
    }

    h1 {
        color: #d63384;
        font-weight: 600;
    }

    .table th {
        background-color: #fce4ec;
    }

    .table-striped tbody tr:nth-of-type(odd) {
        background-color: #fff5f8;
    }

    .badge.bg-success {
        background-color: #81c784;
    }

    .badge.bg-warning {
        background-color: #fdd835;
        color: #000;
    }

    .btn-primary {
        background-color: #e83e8c;
        border: none;
    }

    .btn-primary:hover {
        background-color: #c2185b;
    }

    .table td, .table th {
        vertical-align: middle;
    }

    .card, .table {
        border-radius: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<h1 data-aos="fade-down">–°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤</h1>

<div class="table-responsive" data-aos="fade-up">
    <table class="table table-striped align-middle">
        <thead>
            <tr>
                <th>ID</th>
                <th>üë§ –ò–º—è</th>
                <th>üåç –†–µ–≥–∏–æ–Ω</th>
                <th>üåü –í–æ–∑—Ä–∞—Å—Ç</th>
                <th>üí≥ –ë–∞–ª–∞–Ω—Å</th>
                <th>üìÑ –ü—Ä–æ–¥—É–∫—Ç—ã</th>
                <th>üîí –°—Ç–∞—Ç—É—Å</th>
                <th>‚öñÔ∏è –î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for customer in customers %}
            <tr data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:'1' }}00">
                <td>{{ customer.customer_id }}</td>
                <td>{{ customer.surname }}</td>
                <td>{{ customer.geography }}</td>
                <td>{{ customer.age }}</td>
                <td>‚ÇΩ {{ customer.balance|floatformat:2 }}</td>
                <td>{{ customer.numofproducts }}</td>
                <td>
                    {% if customer.isactivemember %}
                    <span class="badge bg-success">–ê–∫—Ç–∏–≤–µ–Ω</span>
                    {% else %}
                    <span class="badge bg-warning">–ù–µ–∞–∫—Ç–∏–≤–µ–Ω</span>
                    {% endif %}
                </td>
                <td>
                    <a href="{% url 'data_processor:customer_detail' customer.pk %}"
                       class="btn btn-sm btn-primary">
                        üìÑ –ü—Ä–æ—Å–º–æ—Ç—Ä
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% if is_paginated %}
<nav data-aos="fade-up">
    <ul class="pagination justify-content-center mt-4">
        {% if page_obj.has_previous %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.previous_page_number }}">‚óÄÔ∏è –ù–∞–∑–∞–¥</a>
        </li>
        {% endif %}

        {% for num in page_obj.paginator.page_range %}
        <li class="page-item {% if page_obj.number == num %}active{% endif %}">
            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
        </li>
        {% endfor %}

        {% if page_obj.has_next %}
        <li class="page-item">
            <a class="page-link" href="?page={{ page_obj.next_page_number }}">–í–ø–µ—Ä—ë–¥ ‚ñ∂Ô∏è</a>
        </li>
        {% endif %}
    </ul>
</nav>
{% endif %}
{% endblock %}

{% block extra_js %}
<script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
<script>AOS.init({ once: true });</script>
{% endblock %}

